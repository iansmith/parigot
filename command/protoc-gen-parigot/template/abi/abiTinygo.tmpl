//+build parigot_abi

// This file has been machine generated from proto/abi.proto.  DO NOT EDIT OR YOU WILL LOSE.

// This file is here to tell tinygo what functions to elide when
// it is generating code for this package.  Most IDEs get confused when
// you have "non defined" functions, although it's perfectly valid
// go.  The functions that start with _ are potentially restricted
// (dangerous).  The functions that are the real implementations
// are implemented by the container, are not in the source or address
// space of a client, and have a trailing _.  Functions with more
// complex signatures (e.g. if they use a string) have to binary
// patched into the wasm module because we are using tinygo and it
// doesn't understand that we want to control the wasm-level type
// signatures.

package abi


//
// These functions have the true function name at the WASM level. Implemented
// by the container.
//
{{- range .info.GetWasmService }}
{{- range .GetWasmMethod}}
    //go:wasm-module {{.GetParent.GetWasmServiceName}}
    func {{.GetWasmMethodName}}_({{.AllInputParamWithFormalWasmLevel true}}) {{.OutType}}
{{end }}
{{end}}
//
// These functions are wrappers around the true ABI functions, as is done with libc.
// These are the functions that can take the correct arguments directly at the wasm level.
// We have to patch functions that take arguments outside of the basic four, and this
// is done with binary editing after compilation is finished.  Because this API library
// is using go, we use the "normal" name for the name of the function, otherwise it
// would be impossible to call these functions, due to the wasm names being lower case.
//

{{- range .info.GetWasmService }}
{{- range .GetWasmMethod}}
{{- if .NoComplexParam}}
{{- if .NoComplexOutput }}
    func {{.GetName}}({{.AllInputWithFormal true}}) {{.OutType}} {
{{- if .NotEmptyOutput}}
        return {{.GetWasmMethodName}}_({{.AllInputWithFormal true}})
{{ else }}
         {{.GetWasmMethodName}}_({{.AllInputFormal}})
{{- end }}
    }
{{- end }}
{{- end }}
{{- end }}
{{- end }}

